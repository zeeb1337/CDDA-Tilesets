<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>UltimateCataclysm — Documentation</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation &amp; Building</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="installation_windows.html"><strong aria-hidden="true">1.1.</strong> Windows guide</a></li></ol></li><li class="chapter-item expanded "><a href="style/summary.html"><strong aria-hidden="true">2.</strong> Style guidelines</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="style/general.html"><strong aria-hidden="true">2.1.</strong> General</a></li><li class="chapter-item expanded "><a href="style/items.html"><strong aria-hidden="true">2.2.</strong> Items</a></li><li class="chapter-item expanded "><a href="style/overlay.html"><strong aria-hidden="true">2.3.</strong> Overlay</a></li><li class="chapter-item expanded "><a href="style/creatures.html"><strong aria-hidden="true">2.4.</strong> Creatures</a></li><li class="chapter-item expanded "><a href="style/terrain-furniture.html"><strong aria-hidden="true">2.5.</strong> Terrain &amp; Furniture</a></li></ol></li><li class="chapter-item expanded "><strong aria-hidden="true">3.</strong> How to</li><li><ol class="section"><li class="chapter-item expanded "><a href="how-to/structure.html"><strong aria-hidden="true">3.1.</strong> Tileset structure</a></li><li class="chapter-item expanded "><a href="how-to/autotiles.html"><strong aria-hidden="true">3.2.</strong> Autotiles</a></li></ol></li><li class="chapter-item expanded "><strong aria-hidden="true">4.</strong> Tools</li><li><ol class="section"><li class="chapter-item expanded "><strong aria-hidden="true">4.1.</strong> Slice autotiles</li><li class="chapter-item expanded "><strong aria-hidden="true">4.2.</strong> Generate preview</li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">UltimateCataclysm — Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/I-am-Erk/CDDA-Tilesets" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#installation" id="installation">Installation</a></h1>
<h2><a class="header" href="#stable" id="stable">Stable</a></h2>
<p>The easiest way to download the tileset would be from the latest release. It is a stable tileset build which you can safely put into the game and run.</p>
<ol>
<li>Download the <a href="https://github.com/I-am-Erk/CDDA-Tilesets/releases/latest">latest release</a> from the releases page (Not the source code !).</li>
<li>Extract archive once it's downloaded.</li>
<li>Put <em>UltimateCataclysm</em> folder from extracted files into your <code>cataclysmdda\gfx</code> folder. It should look like: <code>cataclysmdda\gfx\UltimateCataclysm</code>.</li>
</ol>
<blockquote>
<p>⚠ If you have &quot;Missing &quot;tile_config.json&quot; file&quot; error upon loading the tileset, this means that you have downloaded and extracted the source code, and <strong>not</strong> the tileset.</p>
</blockquote>
<h2><a class="header" href="#develop" id="develop">Develop</a></h2>
<p>The most up to date build of the tileset (per commit). Might be broken.</p>
<ol>
<li>Locate the most recent commit that has a green check right next to it <a href="https://github.com/I-am-Erk/CDDA-Tilesets/commits/master">here</a>.</li>
<li>Click on the green check -&gt; <em>&quot;CI Build / CI Build&quot; Details</em></li>
<li>Find <em>Artifacts</em> drop-down menu, click on it, and then select the artifact.</li>
<li>Proceed with step 2 and 3 from stable installation.</li>
</ol>
<blockquote>
<p>Red cross means that the build has failed and no artifacts were produced.</p>
</blockquote>
<h1><a class="header" href="#building" id="building">Building</a></h1>
<p>You will need:</p>
<ul>
<li>Python 3</li>
<li><a href="https://libvips.github.io/libvips/install.html">Libvips</a></li>
<li>pyvips (install it via python pip: <code>pip install pyvips</code>) </li>
<li><a href="https://github.com/CleverRaven/Cataclysm-DDA/blob/master/tools/gfx_tools/compose.py">compose.py</a> script from the main <a href="https://github.com/CleverRaven/Cataclysm-DDA">Cataclysm-DDA</a> repository</li>
</ul>
<p>Once you have everything ready, you can build the tileset:</p>
<pre><code class="language-sh"># Assuming that you are in the root of the tileset repository
$ python3 &lt;path-to-compose-py-script&gt;/compose.py gfx/UltimateCataclysm
</code></pre>
<h1><a class="header" href="#windows-guide" id="windows-guide">Windows guide</a></h1>
<p>Guide for Windows users, without touching the Command Line.</p>
<h2><a class="header" href="#install-requirements" id="install-requirements">Install requirements</a></h2>
<p><strong>Python</strong></p>
<p>Install Python 3 from <a href="https://www.python.org/downloads/windows/">python.org</a>.</p>
<p>During installation, check &quot;Add Python to PATH&quot;.</p>
<p><strong>libvips</strong></p>
<p>Download the latest libvips distribution from <a href="https://libvips.github.io/libvips/install.html">libvips.github.io</a>
(get vips-dev-w64-web-#.#.#.zip NOT vips-dev-w64-all-#.#.#.zip).</p>
<p>Extract the files somewhere.</p>
<p><strong>Cataclysm-DDA game</strong></p>
<p>The easiest way to get the game is to use the <a href="https://github.com/Fris0uman/CDDA-Game-Launcher/releases">CDDA Game Launcher</a>.
With the launcher, install the latest <strong>experimental</strong> release.</p>
<h2><a class="header" href="#setting-up-paths" id="setting-up-paths">Setting up paths</a></h2>
<p>For composing tilesets, some path must be known to the respective scripts.
This section describes the most easy drag &amp; drop approach.</p>
<p>In <code>CDDA-Tilesets</code>, go into folder <code>tools</code>.</p>
<ol>
<li>
<p>Copy <code>set_game_path.cmd</code> into the game's folder, and double-click it.<br />
OR: Drag &amp; drop the game folder onto <code>set_game_path.cmd</code>.</p>
<blockquote>
<p>Note: This sets the environmental variable <code>CDDA_PATH</code>.</p>
</blockquote>
</li>
<li>
<p>Copy <code>set_vips_path.cmd</code> into the vips folder (e.g. <code>C:\vips-dev-x.xx</code>), and double-click it.<br />
OR: Drag &amp; drop the vips folder onto <code>set_vips_path.cmd</code>.</p>
<blockquote>
<p>Note: This sets the environmental variable <code>LIBVIPS_PATH</code>.</p>
</blockquote>
</li>
<li>
<p>Optional: To set a tileset to compose permanently, double-click <code>set_tileset.cmd</code> and select the desired tileset.<br />
If not set permanently, the update script will allow for interactive selection of a tileset.</p>
<blockquote>
<p>Note: This sets the environmental variable <code>CDDA_TILESET</code>.</p>
</blockquote>
</li>
</ol>
<p>After these steps, it might be necessary to restart the computer.</p>
<h2><a class="header" href="#compose-and-update-tileset" id="compose-and-update-tileset">Compose and update tileset</a></h2>
<p>In <code>tools</code>, double-click <code>updtset.cmd</code>.</p>
<p>You will be prompted to select a tileset (unless it was set permanently).
At the first run, <code>pyvips</code> will be installed automatically.</p>
<p>If something goes wrong, read the script's output carefully!</p>
<h1><a class="header" href="#style-guidelines" id="style-guidelines">Style guidelines</a></h1>
<p>We have rules for sprites these days. 
Not because it's important to keep the tileset consistent, but also to make things recognizable on the screen in the game. 
Without strict rules, UltiCa will quickly turn itself into a pixels mash up. 
Rules and guidelines are divided between groups: </p>
<ul>
<li><a href="style/general.html">General</a></li>
<li><a href="style/items.html">Items</a> (things on the floor)</li>
<li><a href="style/overlay.html">Overlay</a> (wielded/worn/mutations)</li>
<li><a href="style/creatures.html">Creatures</a></li>
<li><a href="style/terrain.html">Terrain</a></li>
</ul>
<h1><a class="header" href="#general-style-guidelines" id="general-style-guidelines">General style guidelines</a></h1>
<p>A bunch of rules that can be applied for every type of sprite.</p>
<h2><a class="header" href="#use-a-limited-set-of-colors-as-in-pseudo-16-bit-format" id="use-a-limited-set-of-colors-as-in-pseudo-16-bit-format">Use a limited set of colors as in pseudo-16 bit format</a></h2>
<p><img src="style/image/colors.png" alt="colors" /></p>
<p>This is rule is one of the main rules not only for this tileset, but pixel art in general. 
Each &quot;colour block&quot; should use 3-6 colors for shades. For example a blue shirt might have one light blue highlight, two medium blue main colours, one dark blue shade, and one very dark blue-green shade. 
See <a href="https://lospec.com/pixel-art-tutorials/tags/colors">colors tutorials section</a> on lospec if you're having troubles with palette.</p>
<h2><a class="header" href="#try-to-draw-with-realistic-proportions" id="try-to-draw-with-realistic-proportions">Try to draw with realistic proportions</a></h2>
<p><img src="style/image/proportions.png" alt="proportions" /></p>
<p>Small items/creatures should be small. But if feel that they are <strong>too small</strong>, it is ok to make them bigger for sakes of ability to be recognized. Be careful about sizes.</p>
<h2><a class="header" href="#use-hard-edges-on-foreground-objects" id="use-hard-edges-on-foreground-objects">Use hard edges on foreground objects</a></h2>
<p><img src="style/image/hard-edges.png" alt="hard-edges" /></p>
<p>.. such as items and monsters. This is important because it makes things much more recognizable when zoomed out.</p>
<h2><a class="header" href="#the-default-light-source-is-assumed-to-come-from-above-and-to-the-left" id="the-default-light-source-is-assumed-to-come-from-above-and-to-the-left">The default light source is assumed to come from above and to the left.</a></h2>
<p><img src="style/image/sunlight.png" alt="sunlight" /></p>
<h1><a class="header" href="#items" id="items">Items</a></h1>
<h2><a class="header" href="#maximum-item-size-is-32x32-small-items-should-fit-within-16x16" id="maximum-item-size-is-32x32-small-items-should-fit-within-16x16">Maximum item size is 32x32; small items should fit within 16x16</a></h2>
<p><img src="style/image/item-proportions.png" alt="item-proportions" /></p>
<p>This is continuation of the general rule.</p>
<h2><a class="header" href="#item-tiles-should-be-as-close-to-scale-as-they-can-be-while-still-recognizable" id="item-tiles-should-be-as-close-to-scale-as-they-can-be-while-still-recognizable">Item tiles should be as close to scale as they can be while still recognizable</a></h2>
<p><img src="style/image/item-group.png" alt="item-group" /></p>
<p>When in doubt, err on the side of larger, but avoid filling an entire 32x32 tile with a single nail or it would look like a nail as large as a survivor.
Even for single items, putting multiple items into the icon could give it more recognizability without making it look comically huge.</p>
<h2><a class="header" href="#containers-should-be-drawn-empty" id="containers-should-be-drawn-empty">Containers should be drawn empty</a></h2>
<p><img src="style/image/containers.png" alt="containers" /></p>
<p>Like jars or bottles. The game will use the same tile no matter the actual content of the item.</p>
<h2><a class="header" href="#100-black-underline-without-shadow" id="100-black-underline-without-shadow">100% black underline without shadow</a></h2>
<p><em>// TODO: image</em></p>
<p>No shadow will make sure that players don't confuse several big items with furniture. Black underline helps to identify an item in the game world.</p>
<h2><a class="header" href="#consider-placement-on-tables" id="consider-placement-on-tables">Consider placement on tables</a></h2>
<p><img src="style/image/items-on-tables.png" alt="items-on-tables" /></p>
<p>Table surfaces usually occupy top 19 pixels of a 32x32 sprite, try fitting your items there when possible.</p>
<h1><a class="header" href="#overlay" id="overlay">Overlay</a></h1>
<p>Rules about hair, mutations, worn clothes, wielded items and survivour's skin.</p>
<h1><a class="header" href="#32x64-tile-base" id="32x64-tile-base">32x64 tile base</a></h1>
<p>Use these as reference (base male and base female sprites): </p>
<p><img src="style/image/skin-male.png" alt="male" />
<img src="style/image/skin-female.png" alt="female" /></p>
<h1><a class="header" href="#creatures" id="creatures">Creatures</a></h1>
<h2><a class="header" href="#take-appropriate-tile-size" id="take-appropriate-tile-size">Take appropriate tile size</a></h2>
<p>Consider 32x64 a default template for human-sized creatures:</p>
<p><img src="style/image/skin-male.png" alt="male" />
<img src="style/image/skin-female.png" alt="female" /></p>
<h1><a class="header" href="#monster-sprites-should-have-8px-offset-from-the-ground" id="monster-sprites-should-have-8px-offset-from-the-ground">Monster sprites should have ~8px offset from the ground</a></h1>
<p><em>// TODO: image</em></p>
<p>To give them a 3d look.</p>
<h1><a class="header" href="#facing-to-the-right-by-default" id="facing-to-the-right-by-default">Facing to the right by default</a></h1>
<p>And remember that tiles are mirrored when creatures move.</p>
<h1><a class="header" href="#monsters-should-drop-shadows-when-possible" id="monsters-should-drop-shadows-when-possible">Monsters should drop shadows when possible</a></h1>
<p><em>// TODO: image</em></p>
<p>Put shadows in a <code>bg</code> field in json, use <code>shadow_&lt;width&gt;x&lt;height&gt;_&lt;size&gt;</code> template. You can find shadow files in the root of any size directory (e.g. <code>pngs_normal_32x32</code>).</p>
<h1><a class="header" href="#terrain--furniture" id="terrain--furniture">Terrain &amp; Furniture</a></h1>
<h2><a class="header" href="#walls-and-floors-are-32x32-other-things-may-vary" id="walls-and-floors-are-32x32-other-things-may-vary">Walls and floors are 32x32, other things may vary</a></h2>
<p><em>// TODO: image</em></p>
<p>Again, you should size things accordingly to its size in the world.</p>
<h2><a class="header" href="#keep-color-value-level-in-medium-range" id="keep-color-value-level-in-medium-range">Keep color value level in medium range</a></h2>
<p><em>// TODO: image</em></p>
<p>It's important to keep value level of the background objects (terrain, furniture) about 60-80, because it would define foreground entities (e.g. monsters) better.</p>
<h1><a class="header" href="#keep-table-surfaces-consistent" id="keep-table-surfaces-consistent">Keep table surfaces consistent</a></h1>
<p>When drawing something similar to a table keep in mind that currently table surfaces usually occupy top 19 pixels and items may be optimized to look like placed in that area.</p>
<h1><a class="header" href="#tileset-structure" id="tileset-structure">Tileset structure</a></h1>
<p><em>// TODO: rewrite</em></p>
<ul>
<li>Put files into the best appropriate folder (terrain, furniture, mutations, items, etc).</li>
<li>Give files a name based on the JSON ID they suit, eg <code>t_floor</code>.</li>
<li>If multiple files apply to that ID, make a subfolder eg <code>terrain/t_floor/</code> for all the views.</li>
<li>For the moment, there isn't a clear naming convention after that. Working on it.</li>
</ul>
<h3><a class="header" href="#autotiles" id="autotiles">Autotiles</a></h3>
<p>Autotiles, referred to in CDDA game code as &quot;multitiles&quot;, are tiles that display differently
depending on their relationship to other sprites in the group. Water is a classic example: drawing
water as an autotile allows it to display as a single body with edges, instead of either individual
little puddles, or a large blue expanse with no shoreline.</p>
<p><img src="how-to/image/t_water_sh_autotile.png" alt="Water autotile" /></p>
<p>To simplify drawing these tiles, we use templates with 4x4 and 8x6 grids of all the tile boundary types
in a predictable order. Transparency allows overlapping the same tiles on different backgrounds, so
we don't have to redraw the water boundaries for dirt, grass, rock, etc. - we draw the water once,
and the transparent edges allow it to overlap dirt, grass, rock, and so on.</p>
<p>The 4x4 template supports only current game code:</p>
<p><img src="how-to/image/multitile_grid_4x4.png" alt="Multitile 4x4 Template" /></p>
<p>Black space indicates background, and white is the shape of the furniture or terrain.</p>
<p>And the 8x6 is an attempt at future-proofing the project that was created before 4x4. Currently, only a few of these tiles are supported in CDDA, although some day it would be nice to have all of them available:</p>
<p><img src="how-to/image/autotile_template_grid.png" alt="Autotile Template" /></p>
<p>The sixteen tiles in the top-left 4x4 block contain the basic boundary shapes that are just the 4x4 template in a different order.</p>
<p>Both terrain and furniture tiles may use this template. Terrain like grass or fences:</p>
<p><img src="how-to/image/t_grass_multitile.png" alt="Grass 4x4 terrain" /></p>
<p><img src="how-to/image/t_grass_tall_autotile.png" alt="Tall grass terrain" />
<img src="how-to/image/t_fence_autotile.png" alt="Fence terrain" /></p>
<p>and furniture like bathtubs or benches:</p>
<p><img src="how-to/image/f_bathtub_autotile.png" alt="Bathtub furniture" />
<img src="how-to/image/f_bench_autotile.png" alt="Table furniture" /></p>
<p>With the current tile support there are two ways you might use an
autotile, demonstrated by the bench and table autotiles. What we're missing is the ability to draw
different types of <em>diagonal</em> connections. Without that, we have to represent things that are likely
to have diagonal connections or unlikely to have them in different ways.</p>
<p>These break down into a few parts as recognized by the game.</p>
<ul>
<li><strong>corner</strong>: These attach two adjacent tiles perpendicular to the tile in question.</li>
<li><strong>edge</strong>: These tiles connected either on the top-bottom or left-right sides, in a straight line.</li>
<li><strong>unconnected</strong>: This is a tile just hanging out alone, unconnected to its neighbors.</li>
<li><strong>center</strong>: This is a 4-way intersection tile, connected on all sides.</li>
<li><strong>end_piece</strong>: These tiles are connected only on one side.</li>
<li><strong>t_connection</strong>: These are the 3-way intersection tiles.</li>
</ul>
<p><img src="how-to/image/f_bench_autotile_labels.png" alt="Autotile part labels" /></p>
<h4><a class="header" href="#things-like-benches" id="things-like-benches">Things like benches</a></h4>
<p><img src="how-to/image/f_bench_autotile.png" alt="Autotile: bench" /></p>
<p>The bench autotile is an example of an autotile that we don't really expect to be displayed double-thick most of the time. Generally you're going to draw a bench like this:</p>
<pre><code>.....
bbbbb
.....
</code></pre>
<p>rather than like this:</p>
<pre><code>bb.bb
bb.bb
bb.bb
</code></pre>
<p>For this reason, the <strong>t_connection</strong> and <strong>center</strong> art for the bench are drawn as 3-way and 4-way intersections.</p>
<h4><a class="header" href="#things-like-tables" id="things-like-tables">Things like tables</a></h4>
<p><img src="how-to/image/f_table_autotile.png" alt="Autotile: table" /></p>
<p>The table autotile is an example of a tile you would often expect to be drawn double-thick,
connecting to itself. While you might also draw it one tile wide, two or more tiles of contiguous
table are common. For this reason you can't assume there's an edge visible on a <strong>t_connection</strong> or
<strong>center</strong> tile. Consider the center tile in a table like this, represented by a capital T amidst
lower case:</p>
<pre><code>.....
.ttt.
.tTt.
.ttt.
.....
</code></pre>
<p>That <strong>center</strong> tile can't be drawn as a 4-way intersection, or there would be holes in the table.
It has to be drawn as a flat contiguous tabletop. Likewise the <strong>t_intersection</strong> tiles (the middle
piece of each edge section) should be assumed to connect diagonally as well, again to prevent holes
in the table.</p>
<h3><a class="header" href="#slicing-autotiles" id="slicing-autotiles">Slicing autotiles</a></h3>
<p>Before an autotile template can be used by the game, it needs to be sliced up into individual tiles.
We use the <code>tools/slice_multitile.py</code> script to achieve this.</p>
<p>To run the script, you will need <a href="https://python.org">python</a> installed, as well as the libvips
graphic library. Further, numpy is required. Something like these commands should suffice to install them on Ubuntu:</p>
<pre><code class="language-sh">$ sudo apt install python3-pip libvips
$ pip3 install pyvips numpy
</code></pre>
<p>If all goes well, you should be able to run the <code>slice_multitile.py</code> script and see the usage note:</p>
<pre><code>$ tools/slice_multitile.py
usage: slice_multitile.py [-h] [--tile TILE] [--out OUT] [--no-json] [--background BACKGROUND] image width [height]
slice_multitile.py: error: the following arguments are required: image, width
</code></pre>
<p>So if you have created a <code>mud_autotile.png</code> image, using the autotile template above, you can tell
the script to slice it into 32x32-pixel tiles with a command like this:</p>
<pre><code class="language-sh">$ tools/slice_multitile.py mud_autotile.png 32 --out mud_tiles
</code></pre>
<p>This will create a <code>mud_tiles</code> folder with separate images for each tile in the template, along with
a JSON file with connection data, for example:</p>
<ul>
<li>mud.json</li>
<li>mud_center.png</li>
<li>mud_corner_ne.png</li>
<li>mud_corner_nw.png</li>
<li>mud_corner_se.png</li>
<li>mud_corner_sw.png</li>
<li>mud_edge_ew.png</li>
<li>mud_edge_ns.png</li>
<li>mud_end_piece_e.png</li>
<li>mud_end_piece_n.png</li>
<li>mud_end_piece_s.png</li>
<li>mud_end_piece_w.png</li>
<li>mud_t_connection_e.png</li>
<li>mud_t_connection_n.png</li>
<li>mud_t_connection_s.png</li>
<li>mud_t_connection_w.png</li>
<li>mud_unconnected.png</li>
</ul>
<h4><a class="header" href="#slicing-isometric-autotiles" id="slicing-isometric-autotiles">Slicing isometric autotiles</a></h4>
<p>Isometric autotile is supported by <code>slice_multitile.py</code> using the <code>--iso</code> argument.
A rhomboid template like <a href="how-to/../templates/multitile_grid_4x4_iso.png">multitile_grid_4x4_iso.png</a> is uses as the basis.</p>
<p><img src="how-to/../templates/multitile_grid_4x4_iso.png" alt="ISO Multitile 4x4 Template" /></p>
<h4><a class="header" href="#re-arranging-for-iso-with-height" id="re-arranging-for-iso-with-height">Re-arranging for ISO with height</a></h4>
<p>Unfortunately, the approach explained in <a href="how-to/autotiles.html#slicing-isometric-autotiles">Slicing isometric autotiles</a>
does not work for ISO sprites with a height (like walls etc.).</p>
<p>For working with ISO sprites with a height, options <code>--rearrange-top &lt;height&gt;</code> and <code>--rearrange-bottom &lt;height&gt;</code>
of <code>slice_multitile.py</code> can be used. The workflow for walls would be:</p>
<ol>
<li>Draw wall tops on the flat ISO template</li>
<li>Use <code>--rearrange-bottom</code> to give the sprites a height and arrange them in a usual ortho autotile layout</li>
<li>Draw wall sides on that created layout</li>
<li>Slice the result without using <code>--iso</code></li>
</ol>
<h3><a class="header" href="#tall-multitile-template" id="tall-multitile-template">Tall multitile template</a></h3>
<p>There is now support for tall multitile templates too:</p>
<p><img src="how-to/image/multitile_grid_4x4_tall.png" alt="Tall Multitile 4x4 Template" /></p>
<pre><code class="language-sh">$ tools/slice_multitile.py multitile_grid_4x4_tall.png 32 64 --tile &quot;f_bookcase&quot;
</code></pre>
<h3><a class="header" href="#unslicing" id="unslicing">Unslicing</a></h3>
<p>There is also a script for reverting the slice action
when you want to adjust all sprites as one image:</p>
<pre><code class="language-sh">cd mud_tiles
$ tools/unslice_multitile.py mud
</code></pre>
<h3><a class="header" href="#slicing-variants" id="slicing-variants">Slicing variants</a></h3>
<p>Randomly selected sprite variants can be used based on weights.
For easier creation of these variants, multitile-like images can be sliced into numbered variant sprites using <code>slice_variants.py</code>.</p>
<p>Usage is the same as with <code>slice_multitile.py</code>. E.g.:</p>
<pre><code class="language-sh">$ tools/slice_variants.py t_floor_multitile.png 32 32
</code></pre>
<p>The script can handle any multitile size, not only 4x4.
For iso multitiles, use switch <code>--iso</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
